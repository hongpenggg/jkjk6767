<!DOCTYPE html>
<html lang="en" class="dark opacity-0 transition-opacity duration-700">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A letter to the Admissions Officer">
    <title>Hongpeng's Letter</title>
    
    <!-- Fonts: Inter (UI) & Merriweather (Reading) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS (JIT Compiler for Standalone Usage) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configuration -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    colors: {
                        // Custom glass colors for better visibility
                        glass: {
                            light: 'rgba(255, 255, 255, 0.7)',
                            dark: 'rgba(20, 20, 20, 0.6)',
                        }
                    },
                    transitionTimingFunction: {
                        'snappy': 'cubic-bezier(0.2, 0.8, 0.2, 1)', // Apple-like snap
                    }
                }
            }
        }
    </script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* --- Core Layout & Background --- */
        html {
            scroll-behavior: smooth;
        }

        body {
            /* Background Logic */
            background-color: #1a1a1a; /* Fallback */
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* Parallax-free fixed bg */
            background-repeat: no-repeat;
            
            /* Flex Column for Footer Pushing */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            
            /* Smooth transitions for theme switch */
            transition: background-image 0.5s ease-in-out, color 0.3s ease;
        }

        /* Dark Mode Image */
        body.dark {
            background-image: url('https://hongpenggg.github.io/jkjk6767/assets/images/mountain_night.png');
            color: #e2e8f0;
        }

        /* Light Mode Image */
        body:not(.dark) {
            background-image: url('https://hongpenggg.github.io/jkjk6767/assets/images/mountain_day.png');
            color: #1a202c;
        }

        /* --- Glassmorphism Engine --- */
        .glass-panel {
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.125);
        }

        .dark .glass-panel {
            background-color: rgba(10, 10, 10, 0.5); /* Deep dark glass */
            border-color: rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        body:not(.dark) .glass-panel {
            background-color: rgba(255, 255, 255, 0.65); /* Frosty light glass */
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .squircle { border-radius: 18px; }

        /* --- Refined Typography --- */
        ::selection { background: rgba(59, 130, 246, 0.4); }

        /* --- Snappy Animations --- */
        
        /* 1. Logo Expansion */
        .logo-text-hidden {
            max-width: 0;
            opacity: 0;
            overflow: hidden;
            display: inline-block;
            white-space: nowrap;
            transition: max-width 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.3s ease-out;
            vertical-align: bottom;
        }
        
        .group:hover .logo-text-hidden {
            max-width: 140px; /* Precise width to fit name */
            opacity: 1;
        }

        .logo-slash {
            display: inline-block;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); /* Bouncy spring effect */
            margin: 0 2px;
        }
        
        .group:hover .logo-slash {
            transform: rotate(20deg) scale(1.1) translateX(2px);
        }

        /* 2. Button Expansion */
        .nav-btn {
            width: 48px; /* Icon width */
            transition: width 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            overflow: hidden;
            white-space: nowrap;
            display: flex;
            align-items: center;
        }

        .nav-btn:hover {
            width: auto; /* Allow auto width on hover */
            padding-right: 1.25rem;
        }

        .nav-btn .btn-content {
            display: flex;
            align-items: center;
            width: 100%;
        }

        /* Icon fade out */
        .nav-btn i {
            flex-shrink: 0;
            margin: 0 12px;
            transition: opacity 0.2s ease, transform 0.3s ease;
        }

        .nav-btn:hover i {
            opacity: 0;
            transform: scale(0.8);
            width: 0;
            margin: 0;
        }

        /* Text fade in */
        .nav-btn span {
            opacity: 0;
            transform: translateX(10px);
            transition: opacity 0.3s 0.1s ease, transform 0.3s 0.1s ease;
            position: absolute;
            left: 16px;
        }

        .nav-btn:hover span {
            opacity: 1;
            transform: translateX(0);
            position: static;
        }

        /* --- Scrollbar --- */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(156, 163, 175, 0.4); border-radius: 10px; }
    </style>
</head>

<!-- Body Opacity 0 initially to prevent FOUC, fades in via JS -->
<body class="antialiased opacity-0 onload-fade-in">

    <!-- Audio Player -->
    <audio id="bg-audio" loop preload="auto">
        <source src="../assets/audio/bg.mp3" type="audio/mpeg">
    </audio>

    <!-- Header -->
    <header id="main-header" class="fixed top-0 left-0 w-full z-50 transition-all duration-300 py-6 px-4 md:px-8">
        <div id="header-container" class="max-w-7xl mx-auto flex justify-between items-start transition-all duration-500 rounded-2xl p-2">
            
            <!-- 1. Interactive Logo -->
            <!-- Using tracking-tighter and consistent font-bold to match H/W with names -->
            <div class="group flex items-center font-sans font-bold text-2xl tracking-tight cursor-default select-none pt-2 pl-2 text-current">
                <span class="relative z-10">H</span>
                <span class="logo-text-hidden">ongpeng</span>
                
                <span class="logo-slash text-gray-400 font-light">\</span>
                
                <span class="relative z-10">W</span>
                <span class="logo-text-hidden">ei</span>
            </div>

            <!-- 2. Interactive Controls -->
            <div class="flex items-start gap-3 relative" id="nav-buttons-container">
                
                <!-- Dark/Light Mode Toggle -->
                <button id="theme-toggle" class="glass-panel squircle nav-btn h-12 shadow-lg hover:shadow-2xl text-sm font-semibold">
                    <div class="btn-content">
                        <i data-lucide="moon" class="w-5 h-5"></i>
                        <span id="theme-text">Switch to Light Mode</span>
                    </div>
                </button>

                <!-- Music Toggle -->
                <button id="music-toggle" class="glass-panel squircle nav-btn h-12 shadow-lg hover:shadow-2xl text-sm font-semibold">
                    <div class="btn-content">
                        <i data-lucide="volume-2" class="w-5 h-5"></i>
                        <span id="music-text">Turn Music Off</span>
                    </div>
                </button>

                <!-- Hamburger Menu Container -->
                <div id="menu-container" class="relative">
                    
                    <!-- Trigger -->
                    <button id="menu-btn" class="glass-panel squircle w-12 h-12 flex items-center justify-center shadow-lg hover:shadow-2xl transition-all duration-300 z-50 relative group">
                        <i data-lucide="menu" class="w-6 h-6 transition-transform group-hover:scale-110"></i>
                    </button>

                    <!-- Menu Panel -->
                    <div id="menu-panel" class="absolute top-0 right-0 glass-panel squircle shadow-2xl overflow-hidden transition-all duration-500 ease-snappy opacity-0 pointer-events-none w-12 h-12 flex flex-col items-start z-40">
                        
                        <!-- Close Icon -->
                        <button id="menu-close" class="absolute top-3 right-3 p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors hidden z-50">
                            <i data-lucide="x" class="w-5 h-5"></i>
                        </button>

                        <!-- Links -->
                        <div class="p-6 w-72 pt-16 opacity-0 transition-opacity duration-300 delay-75" id="menu-content">
                            <h3 class="text-xs font-extrabold uppercase tracking-widest opacity-60 mb-5 border-b border-gray-500/30 pb-2">Navigation</h3>
                            <nav class="flex flex-col space-y-4 font-sans font-medium text-lg text-gray-900 dark:text-gray-100">
                                <a href="../index.html" class="flex items-center gap-3 hover:translate-x-2 transition-transform duration-300 hover:text-blue-600 dark:hover:text-blue-400">
                                    <i data-lucide="home" class="w-4 h-4 opacity-70"></i> Home
                                </a>
                                <a href="https://hongpenggg.github.io" class="flex items-center gap-3 hover:translate-x-2 transition-transform duration-300 hover:text-blue-600 dark:hover:text-blue-400">
                                    <i data-lucide="globe" class="w-4 h-4 opacity-70"></i> Website
                                </a>
                                <a href="page4.html" class="flex items-center gap-3 hover:translate-x-2 transition-transform duration-300 hover:text-blue-600 dark:hover:text-blue-400">
                                    <i data-lucide="graduation-cap" class="w-4 h-4 opacity-70"></i> Academic Wall
                                </a>
                                <a href="page100.html" class="flex items-center gap-3 hover:translate-x-2 transition-transform duration-300 hover:text-blue-600 dark:hover:text-blue-400">
                                    <i data-lucide="message-square" class="w-4 h-4 opacity-70"></i> Leave A Message
                                </a>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <!-- flex-grow pushes footer down -->
    <main class="relative pt-44 px-4 md:px-8 pb-20 flex-grow w-full max-w-4xl mx-auto z-10">
        
        <!-- Letter Card -->
        <article class="w-full mx-auto glass-panel squircle p-8 md:p-16 shadow-2xl transition-all duration-500 backdrop-blur-xl">
            
            <!-- Letter Header -->
            <div class="mb-12 text-center border-b border-gray-500/20 pb-10">
                <h2 class="font-sans font-bold text-xs md:text-sm uppercase tracking-[0.3em] opacity-60 mb-3">Part IV</h2>
                <h1 class="font-serif text-3xl md:text-5xl font-bold leading-tight tracking-tight text-current">Letter to the Admissions Officer</h1>
            </div>

            <!-- Letter Body -->
            <div class="font-serif text-lg md:text-xl leading-relaxed space-y-8 opacity-95 text-justify text-current">
                <p>Dear AO,</p>
                <p>I want to tell you a story. A story about bridges. Not the kind built with steel and cable, but the kind built with patience and hope.</p>
                
                <p>When I was five years old, I didn't speak English. My parents, immigrants to Singapore who had crossed oceans with nothing but stubborn hope, watched their firstborn child sit silent in a classroom where every word was a locked door. The language gap was more than just linguistic. It was existential. It was the difference between belonging and being invisible.</p>
                
                <p>It was my mother's relentless evening tutorials at our kitchen table, my teachers who stayed after school to explain concepts in broken Mandarin, and my classmates who slowed down their speech so I could catch up who saved me from staying silent forever. They built a bridge for me, word by painstaking word. By the time I was eight, I was speaking English. Thinking in it. Dreaming in it. Becoming myself in it...</p>
                
                <p>I've never forgotten what it feels like to stand on the wrong side of that gap. And I carry that debt with me. Always.</p>
                
                <p>In secondary school, I found soccer. Or rather, soccer found me. People think itâ€™s just a game, but for me, it isn't. Because on that field, I discovered the best versions of myself: the teammate who passes when ego screams "shoot," the innovator who sees patterns in tactics that others miss, the worker who stays late for one more shot. Soccer taught me that passion is something you build through countless small acts of showing up.</p>
                
                <p>But, how many kids never get that chance? How many lower-income children, whose parents work double shifts just to keep food on the table, never discover their "soccer"? That activity that reveals who they could become? How many brilliant minds are locked away simply because opportunity knocked on the wrong door?</p>
                
                <p>And I learnt this lesson the hard way. When I wanted to join my secondary school's coding club, I was rejected. Not because I lacked passion or potential, but because I lacked experience. In Singapore, experience has a price tag - the kind my middle-class parents couldn't afford. Singapore's community clubs (affordable enrichment) barely offered coding programs, and private enrichment centres were more than ready to charge hundreds a session. The irony was bitter: the very club meant to teach coding, was closed to the kids who hadn't already paid to learn. Perhaps - just perhaps - the digital divide isn't just about access to computers, it's also about access to learning itself, which, more often than not, is locked behind a paywall some kids simply cannot afford to open.</p>
                
                <p>So I taught myself. Ninth grade, tenth grade... Nights spent with free online tutorials, building clumsy websites, breaking code and fixing it again. With YouTube videos, codecademy tutorials and sheer grit, I learnt HTML, CSS and JS from scratch. I eventually joined the drones club, and taught myself how to program them to fly. But I shouldn't have had to fight that hard just for the chance to learn.</p>
                
                <p>So, that is why I'm writing to you.</p>
                
                <p>After I graduate - whether from an elite university like yours or elsewhere - I'm starting a non-profit. Not the kind that looks good on a resume and then quietly dies after application season. The kind that I'll keep pushing through university, through my career, through my life. One that gives every Singaporean child who wants to learn coding that chance, regardless of their parents' bank account. One that creates after-school STEM programs in underserved communities. One that ensures no kid ever hears "you don't have enough experience" when all they lack is opportunity.</p>
                
                <p>Because I believe in giving back. Not as a transaction ("I'll volunteer so you'll admit me"), but as a covenant. As the firm belief that every child deserves the bridges that were built for me. Every child deserves their soccer, that thing that shows them who they could become. Not just my future children, but every child.</p>
                
                <p>I'm not asking you to admit me because I plan to do good. I'm telling you that I will do good, regardless. But imagine what I could do with your labs and your resources, your network and your professors, your clubs and your societies, and your commitment to service, behind me. Imagine what we could build together.</p>
                
                <p>You've read hundreds of applications. I'm sure many of them are from students who are smarter, more accomplished, more "pointy" than I am. But I promise you this: no one will fight harder to make sure the next generation has it better than we did. No one will care more deeply about turning privilege into purpose, opportunity into equity, potential into reality. Because I have walked through that rain, felt its cold shivers down my spine, and now I want to hold an umbrella up for other kids who are still walking through it.</p>
                
                <p>I'm asking to join a community that believes - as I do - that education is the great equalizer, and that we who have received much have an obligation to give more. That scientific advancement without equitable access is incomplete. That our most brilliant discoveries mean less if they remain accessible only to the already privileged.</p>
                
                <p>So, thank you for taking the time to see me not as an application number, but as a human being with a mission. Whatever you decide, I hope you know that you do important work: you hold futures in your hands. That's no small thing.</p>
                
                <p>Anyway, please do one small thing for me: Take care of yourself. This season is a grind for you too. Drink some water, take a walk, and please - always remember to smile. The world needs more people who still believe that every child deserves a chance to reach for the stars.</p>
            </div>

            <!-- Sign Off -->
            <div class="mt-16 font-serif border-t border-gray-500/20 pt-8">
                <p class="mb-8 italic text-lg">With deep respect and unwavering determination,</p>
                
                <!-- Signature Block -->
                <div class="my-8">
                    <img src="../assets/images/signature.png" alt="Hongpeng" class="h-20 md:h-24 dark:invert filter opacity-90 transition-opacity hover:opacity-100" onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
                    <!-- Graceful Fallback -->
                    <p style="display:none" class="font-cursive text-3xl font-bold">Hongpeng</p>
                </div>
                
                <p class="text-sm font-sans tracking-widest opacity-60 uppercase">01-01-2026</p>
            </div>

        </article>
    </main>

    <!-- Footer: Static at bottom of flow -->
    <footer class="w-full glass-panel py-8 text-center z-40 mt-auto border-t border-white/10 relative">
        <div class="max-w-4xl mx-auto px-4">
            <p class="font-sans text-xs md:text-sm opacity-60 mb-2">&copy; 2025 Hongpeng's Playground. All rights reserved.</p>
            <p class="font-sans text-[10px] md:text-xs opacity-40 leading-relaxed">
                The music on this site is: Beethovan's Moonlight Sonata; Chopin's Nocturne; Dmitri Shostakovich's Waltz; Johannes Brahms' Hungarian Dance; Mozart's Lacrimosa; Beethoven's Ode an die Freude; and Mozart's Rondo Alla Turca
            </p>
        </div>
    </footer>

    <!-- Logic -->
    <script>
        // 1. Initialize Lucide Icons
        lucide.createIcons();

        // 2. Element Refs
        const body = document.querySelector('body');
        const themeBtn = document.getElementById('theme-toggle');
        const themeText = document.getElementById('theme-text');
        const musicBtn = document.getElementById('music-toggle');
        const musicText = document.getElementById('music-text');
        const audio = document.getElementById('bg-audio');
        const headerContainer = document.getElementById('header-container');
        
        // Menu Refs
        const menuContainer = document.getElementById('menu-container');
        const menuBtn = document.getElementById('menu-btn');
        const menuPanel = document.getElementById('menu-panel');
        const menuContent = document.getElementById('menu-content');
        const menuClose = document.getElementById('menu-close');

        // 3. State Management
        let state = {
            dark: true,
            playing: true,
            menuLocked: false
        };

        // 4. Fade In to prevent FOUC
        window.onload = () => {
            body.classList.remove('opacity-0');
            // Attempt autoplay
            if(state.playing) {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(() => {
                        console.log("Autoplay blocked. Waiting for interaction.");
                        // Fallback: Play on first click
                        document.addEventListener('click', () => {
                            if(state.playing && audio.paused) audio.play();
                        }, { once: true });
                    });
                }
            }
            renderTheme();
        };

        // 5. Theme Logic
        function renderTheme() {
            if (state.dark) {
                body.classList.add('dark');
                themeText.innerText = "Switch to Light Mode";
                // Swap Icon to Sun
                themeBtn.querySelector('i').setAttribute('data-lucide', 'sun');
            } else {
                body.classList.remove('dark');
                themeText.innerText = "Switch to Dark Mode";
                // Swap Icon to Moon
                themeBtn.querySelector('i').setAttribute('data-lucide', 'moon');
            }
            lucide.createIcons(); // Refresh icons
        }

        themeBtn.addEventListener('click', () => {
            state.dark = !state.dark;
            renderTheme();
        });

        // 6. Audio Logic
        function renderMusic() {
            if (state.playing) {
                audio.play();
                musicText.innerText = "Turn Music Off";
                musicBtn.querySelector('i').setAttribute('data-lucide', 'volume-2');
            } else {
                audio.pause();
                musicText.innerText = "Turn Music On";
                musicBtn.querySelector('i').setAttribute('data-lucide', 'volume-x');
            }
            lucide.createIcons();
        }

        musicBtn.addEventListener('click', () => {
            state.playing = !state.playing;
            renderMusic();
        });

        // 7. Complex Menu Logic
        function openMenu() {
            menuPanel.style.width = '300px';
            menuPanel.style.height = 'auto';
            menuPanel.style.minHeight = '320px';
            menuPanel.style.opacity = '1';
            menuPanel.style.pointerEvents = 'auto';
            
            menuContent.style.opacity = '1';
            menuBtn.style.opacity = '0'; // Hide hamburger
            
            if (state.menuLocked) menuClose.style.display = 'block';
        }

        function closeMenu() {
            if (state.menuLocked) return;
            
            // Retract
            menuPanel.style.width = '3rem'; // w-12
            menuPanel.style.height = '3rem'; // h-12
            menuPanel.style.minHeight = '0';
            menuPanel.style.opacity = '0';
            menuPanel.style.pointerEvents = 'none';
            
            menuContent.style.opacity = '0';
            menuBtn.style.opacity = '1'; // Show hamburger
            menuClose.style.display = 'none';
        }

        // Hover Interactions
        menuBtn.addEventListener('mouseenter', openMenu);
        menuPanel.addEventListener('mouseenter', openMenu);
        menuContainer.addEventListener('mouseleave', () => {
            if (!state.menuLocked) closeMenu();
        });

        // Click Interactions (Locking)
        menuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            state.menuLocked = true;
            openMenu();
        });

        menuClose.addEventListener('click', (e) => {
            e.stopPropagation();
            state.menuLocked = false;
            closeMenu();
        });

        // Click outside to close
        document.addEventListener('click', (e) => {
            if (state.menuLocked && !menuContainer.contains(e.target)) {
                state.menuLocked = false;
                closeMenu();
            }
        });

        // 8. Scroll Effects (Frosted Header)
        window.addEventListener('scroll', () => {
            if (window.scrollY > 20) {
                headerContainer.classList.add('glass-panel', 'shadow-xl');
                headerContainer.classList.replace('p-2', 'py-3');
                headerContainer.classList.add('px-6');
            } else {
                headerContainer.classList.remove('glass-panel', 'shadow-xl');
                headerContainer.classList.replace('py-3', 'p-2');
                headerContainer.classList.remove('px-6');
            }
        });

    </script>
</body>
</html>